rtmp_auto_push on;
rtmp {
    server {
        listen 1935;  
        chunk_size 4096;

        application live {
            live on;
            record off;
            push rtmp://127.0.0.1:1935/original_distribution;
            push rtmp://127.0.0.1:1935/ffmpeg;
        }

        application original_distribution {
            live on;
            record off;
            push rtmp://127.0.0.1:1935/youtube;
        }

        application ffmpeg {
            live on;
            record off;
        }

        application reencoded_distribution {
            live on;
            record off;
            push rtmp://127.0.0.1:1935/twitch;
        }

        application youtube {
            live on;
            record off;
            push rtmp://a.rtmp.youtube.com/live2/57z7-svfc-u5ua-4qd0-dygm;
            push rtmp://b.rtmp.youtube.com/live2/57z7-svfc-u5ua-4qd0-dygm?backup=1;
        }

        application twitch {
            live on;
            record off;
            push rtmp://atl.contribute.live-video.net/app/live_518947427_Q4BATIrKiz8HDA3k8i119wUxSwaNTY;
        }
    }
}
